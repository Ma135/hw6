# include <unordered_set >


Sys.setenv("PKG_CXXFLAGS"="-std=c++11")
Rcpp::cppFunction('
NumericVector unique2(NumericVector x) {
std::unordered_set<double> set;
for (const auto& e : x)
set.insert(e);
NumericVector ret(set.size());
int i=0;
for (const auto& item : set)
ret[i++] = item;
return ret;
}
', includes="#include <unordered_set>")

//comparison
x <- as.double(sample(1:100, replace=TRUE, 100000))
microbenchmark(u2=unique2(x), uR=unique(x))
